<mat-sidenav-container class="dashboard">
  <mat-sidenav #sidenav
               class="sidebar"
               [mode]="isMobile ? 'over' : 'side'"
               [opened]="sidebarOpen"
               (backdropClick)="onBackdropClick()"
               role="navigation"
               aria-label="Main navigation">

    <!-- Logo Section -->
    <div class="sidebar-header">
      <h2 class="logo">
        <span class="logo-main">Event</span>
        <span class="logo-accent">ura</span>
      </h2>
    </div>

    <!-- Tabs Section -->
    <mat-nav-list class="menu-list">
      <button mat-list-item (click)="selectTab('overview')" [class.active]="currentTab==='overview'">
        <mat-icon>dashboard</mat-icon>
        <span>Overview</span>
      </button>

      <button mat-list-item (click)="selectTab('feedback')" [class.active]="currentTab==='feedback'">
        <mat-icon>feedback</mat-icon>
        <span>Feedback</span>
      </button>

      <button mat-list-item (click)="selectTab('events')" [class.active]="currentTab==='events'">
        <mat-icon>event</mat-icon>
        <span>Event</span>
      </button>

      <button mat-list-item (click)="selectTab('profile')" [class.active]="currentTab==='profile'">
        <mat-icon>person</mat-icon>
        <span>Profile</span>
      </button>
    </mat-nav-list>

    <!-- Footer -->
    <div class="sidebar-footer">
      <small>Â© 2025 Eventura</small>
    </div>
  </mat-sidenav>

  <mat-sidenav-content class="main-content">
    <header class="navbar">
      <div class="left">
        <button mat-icon-button class="nav-toggler" (click)="toggleSidebar()">
          <mat-icon>{{ sidebarOpen ? 'menu_open' : 'menu' }}</mat-icon>
        </button>
        <div class="welcome">ðŸ‘‹ Welcome, <span>{{ currentUser?.name || 'Guest' }}</span></div>
      </div>

      <div class="right">
        <button mat-stroked-button class="theme-btn" (click)="toggleTheme()" aria-label="Toggle theme mode">
          <mat-icon>{{ darkMode ? 'light_mode' : 'dark_mode' }}</mat-icon>
          <span>{{ darkMode ? 'Light' : 'Dark' }}</span>
        </button>
      </div>
    </header>

    <main class="page-content fade-in">
      <ng-container [ngComponentOutlet]="currentComponent"></ng-container>
      <!-- Hidden references to child components so the compiler recognizes they're used by ngComponentOutlet -->
      <div *ngIf="false" style="display:none">
        <app-feedback></app-feedback>
        <app-events></app-events>
        <app-profile></app-profile>
        <app-overview></app-overview>
      </div>
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>
